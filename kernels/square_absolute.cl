////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Get the squared absolute value of a complex image
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// Takes an input image, calculates the squared absolute value to be returned in a separate output image
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// input_a - image to square absolute
/// output - output result
/// width - width of the inputs
/// height - height of the outputs
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
__kernel void clSqAbs( __global const float2* input,
					   __global float2* output,
					   unsigned int width,
					   unsigned int height)
{
	//Get the work items ID
	int xid = get_global_id(0);
	int yid = get_global_id(1);

	if(xid<width&&yid<height) {
		int Index = xid + yid*width;
		float real = input[Index].x;
		float imag = input[Index].y;
		output[Index].x = real*real + imag*imag;
		output[Index].y = 0;
	}
}